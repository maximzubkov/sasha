(window.webpackJsonpsasha=window.webpackJsonpsasha||[]).push([[0],{149:function(t,e,a){t.exports=a(245)},236:function(t,e,a){t.exports=a.p+"static/media/persik.4e1ec840.png"},245:function(t,e,a){"use strict";a.r(e);a(150),a(176),a(178),a(179),a(181),a(182),a(183),a(184),a(185),a(186),a(187),a(188),a(190),a(191),a(192),a(193),a(194),a(195),a(196),a(197),a(198),a(199),a(201),a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(218);var n=a(0),r=a.n(n),o=a(35),s=a.n(o),i=a(44),l=a.n(i),c=a(104),u=a(27),m=a(28),h=a(30),p=a(29),d=a(31),g=(a(51),a(4)),b=a(52),f=a.n(b),E=a(100),S=a.n(E),y=[{url:"https://raw.githubusercontent.com/maximzubkov/on_hack/master/src/audio/miyagi.mp3",title:"miyagi",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/1hz-10khz-sweep.mp3",title:"1hz-10khz sweep",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/440hz.mp3",title:"440hz",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/880hz.mp3",title:"880hz",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/background0.mp3",title:"background 0",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/background1.mp3",title:"background 1",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/background2.mp3",title:"background 2",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/bass.mp3",title:"bass",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/button-0.mp3",title:"button 0",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/button-1.mp3",title:"button 1",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/click-high.mp3",title:"click high",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/click-low.mp3",title:"click low",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/coins.mp3",title:"coins",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/fancy-beer-bottle-pop.mp3",title:"fancy beer bottle pop",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/going_outside.mp3",title:"going outside",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/mak.mp3",title:"mak",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/mouseover.mp3",title:"mouseover",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/mouseover2.mp3",title:"mouseover 2",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/mouseover3.mp3",title:"mouseover 3",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/office_lobby.mp3",title:"office lobby",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/rain.mp3",title:"rain",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/select.mp3",title:"select",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/sine, square, sawtooth, rando.mp3",title:"sine, square, sawtooth, rando",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/walking.mp3",title:"walking",duration:0}],v=a(21),w=a.n(v),k=a(34),_=a.n(k),O=(a(67),a(236),a(69)),j=a.n(O),P=(a(238),a(239),a(243),Object(g.A)(),function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this,t))).getMeta=function(t){var e,n,r=new j.a;return r.src=t,r.onload=function(){e=a.width,n=a.height},{w:e,h:n}},a.resizeImg=function(t,e,a){return t.height=e,t.width=a,console.log("resized"),t},a.handleImageLoaded=function(){console.log("image loaded")},a.state={img_src:["https://pushkinmuseum.art/data/fonds/ancient_east/1_1_a/1_1_a_4679/3666_foto_1_01.jpg","https://pushkinmuseum.art/data/fonds/ancient_east/1_1_a/1_1_a_4679/3666_foto_1_02.jpg","https://pushkinmuseum.art/data/fonds/ancient_east/1_1_a/1_1_a_4679/3666_foto_1_03.jpg"],description:"Description"},a}return Object(d.a)(e,t),Object(m.a)(e,[{key:"handleSize",value:function(t){console.log(t.offsetWidth,t.offsetHeight)}},{key:"render",value:function(){var t=this.state.img_src.map((function(t){return r.a.createElement(j.a,{src:t,height:200,width:200})}));return r.a.createElement(g.u,{id:"exhibit"},r.a.createElement(g.v,null,"\u0412\u044b\u0441\u0442\u0430\u0432\u043a\u0430"),r.a.createElement(g.e,null,r.a.createElement(g.j,{title:"Description"},r.a.createElement(g.e,null,this.state.description,";")),r.a.createElement(g.j,{title:"Custom width"},r.a.createElement(g.i,{slideWidth:"custom",style:{height:200}},t))))}}]),e}(r.a.Component)),M=a(70),C=a.n(M),x=a(71),D=a.n(x);function z(t,e){return r.a.createElement(g.j,null,r.a.createElement(g.p,null,r.a.createElement(g.o,{href:"#",onClick:function(t){t.preventDefault(),e()}},t)))}var A=function(t){function e(){return Object(u.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return r.a.createElement(g.e,null,this.renderControls())}},{key:"renderControls",value:function(){var t={play:this.props.playStatus===w.a.status.STOPPED,stop:this.props.playStatus!==w.a.status.STOPPED,pause:this.props.playStatus===w.a.status.PLAYING,resume:this.props.playStatus===w.a.status.PAUSED};return r.a.createElement(g.e,null,r.a.createElement(g.p,null,t.play&&r.a.createElement(g.c,{before:r.a.createElement(D.a,{width:20,hight:20})},z("Play",this.props.onPlay)),t.stop&&r.a.createElement(g.c,{before:r.a.createElement(C.a,{width:20,hight:20})},z("Stop",this.props.onStop)),t.pause&&r.a.createElement(g.c,{before:r.a.createElement(C.a,{width:20,hight:20})},z("Pause",this.props.onPause)),t.resume&&r.a.createElement(g.c,{before:r.a.createElement(D.a,{width:20,hight:20})},z("Resume",this.props.onResume))),r.a.createElement(g.h,null,r.a.createElement(g.d,{checked:this.props.loop,onChange:this.props.onToggleLoop}," Loop?")))}}]),e}(r.a.Component),H=function(t){function e(){return Object(u.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return r.a.createElement(g.x,{placeholder:"Select a song",value:this.props.songs.indexOf(this.props.selectedSong),onChange:this.handleSongChange.bind(this)},this.renderSongOptions())}},{key:"renderSongOptions",value:function(){return this.props.songs.map((function(t,e){return r.a.createElement("option",{key:e,value:e},t.title)}))}},{key:"handleSongChange",value:function(t){this.props.onSongSelected(this.props.songs[t.target.value])}}]),e}(r.a.Component),I=a(53),T=a(45),R=a(72),U=a.n(R),Z=a(101),N=a.n(Z),q=a(102),B=a.n(q),L=a(103),V=a.n(L);a(244);function W(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function G(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?W(a,!0).forEach((function(e){Object(I.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}Object(g.A)();var K={flexShrink:0,width:80,height:94,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},Q=function(){return r.a.createElement(g.g,null,r.a.createElement(g.l,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:K},r.a.createElement(g.a,{size:48,style:{marginBottom:8}},r.a.createElement(g.o,{href:"https://twitter.com/TheArtsmuseum",target:"_blank"},r.a.createElement(V.a,{fill:"var(--white)"}))),r.a.createElement(g.o,{href:"https://twitter.com/TheArtsmuseum",target:"_blank"},"Twitter")),r.a.createElement("div",{style:K},r.a.createElement(g.a,{size:48,style:{marginBottom:8}},r.a.createElement(g.o,{href:"https://www.instagram.com/theartsmuseum/",target:"_blank"},r.a.createElement(N.a,{fill:"var(--white)"}))),r.a.createElement(g.o,{href:"https://www.instagram.com/theartsmuseum/",target:"_blank"},"Instagram")),r.a.createElement("div",{style:G({},K,{paddingRight:4})},r.a.createElement(g.a,{size:48,style:{marginBottom:8}},r.a.createElement(g.o,{href:"https://www.facebook.com/theartsmuseum/",target:"_blank"},r.a.createElement(B.a,{fill:"var(--white)"}))),r.a.createElement(g.o,{href:"https://www.facebook.com/theartsmuseum/",target:"_blank"},"Facebook"))),r.a.createElement("img",{src:"https://pushkinmuseum.art/images/svg/logo_gmii_footer.svg"})))},Y=a(73),F=(Object(g.A)(),function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this,t))).getQrData=function(){_.a.subscribe((function(t){switch(t.detail.type){case"VKWebAppOpenQRResult":a.setState({qrData:t.detail.data.qr_data});break;default:console.log(t.detail.type)}})),_.a.send("VKWebAppOpenQR")},a.state={form1:"",form2:"",form3:"",form4:"",form5:"",qrData:null,qrType:null,submit:!1,win:null},a.handleInputChange=a.handleInputChange.bind(Object(T.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(T.a)(a)),a}return Object(d.a)(e,t),Object(m.a)(e,[{key:"handleInputChange",value:function(t){var e=t.currentTarget,a=e.name,n=e.value;this.setState(Object(I.a)({},a,n))}},{key:"handleSubmit",value:function(t){var e=this;console.log(this.state);var a=0,n=1;Y.forEach((function(t){e.state["form"+n]===t.author&&a++,n++})),a>2?this.setState({submit:!0,win:!0}):this.setState({submit:!0,win:!1})}},{key:"render",value:function(){var t=this,e=this.props.fetchedUser,a=this.props.player,n=this.props.id,o=this.props.go;return r.a.createElement(g.u,{id:n},r.a.createElement(g.v,{left:r.a.createElement(g.k,{onClick:this.getQrData},(g.m,r.a.createElement(U.a,null)))},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),e&&r.a.createElement(g.j,{title:"User Data Fetched with VK Connect"},r.a.createElement(g.q,{before:e.photo_200?r.a.createElement(g.a,{src:e.photo_200}):null,description:e.city&&e.city.title?e.city.title:""},"".concat(e.first_name," ").concat(e.last_name))),r.a.createElement(g.j,{title:"Navigation Example"},r.a.createElement(g.e,null,this.state.qrData,!this.state.submit&&r.a.createElement(g.h,null,Y.map((function(e){return r.a.createElement(g.h,null,r.a.createElement("img",{className:"Persik",src:e.imag,alt:"Persik The Cat"}),r.a.createElement(g.x,{name:e.name,onChange:t.handleInputChange,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u044b"},e.variants.map((function(t){return r.a.createElement("option",{value:t},t)}))))})),r.a.createElement(g.h,null,r.a.createElement(g.b,{size:"xl",onClick:this.handleSubmit},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b"))),1==this.state.win&&r.a.createElement(g.e,null,"\u0423\u0440\u0430"),0==this.state.win&&r.a.createElement(g.e,null,"\u041d\u0435 \u0423\u0440\u0430"))),r.a.createElement(g.e,null,r.a.createElement(g.b,{size:"xl",level:"2",onClick:o,"data-to":"exhibit"},"Show me the Exhibit, please")),a,r.a.createElement(Q,null))}}]),e}(r.a.Component)),J=Object(g.A)(),X=J!==g.m,$=J!==g.m,tt=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this,t))).handleSongSelected=function(t){a.setState({currentSong:t,position:0})},a.go=function(t){a.setState({activePanel:t.currentTarget.dataset.to})},a.state={activePanel:"home",fetchedUser:null,activeModal:null,modalHistory:[],currentSong:y[0],position:0,volume:100,playbackRate:1,loop:!1,playStatus:w.a.status.PAUSED},a.modalBack=function(t){a.setActiveModal(a.state.modalHistory[a.state.modalHistory.length-2])},a}return Object(d.a)(e,t),Object(m.a)(e,[{key:"setActiveModal",value:function(t){t=t||null;var e=this.state.modalHistory?Object(c.a)(this.state.modalHistory):[];null===t?e=[]:-1!==e.indexOf(t)?e=e.splice(0,e.indexOf(t)+1):e.push(t),this.setState({activeModal:t,modalHistory:e})}},{key:"componentDidMount",value:function(){var t=this;l.a.subscribe((function(e){switch(e.detail.type){case"VKWebAppGetUserInfoResult":t.setState({fetchedUser:e.detail.data});break;default:console.log(e.detail.type)}})),l.a.send("VKWebAppGetUserInfo",{})}},{key:"getStatusText",value:function(){switch(this.state.playStatus){case w.a.status.PLAYING:return"playing";case w.a.status.PAUSED:return"paused";case w.a.status.STOPPED:return"stopped";default:return"(unknown)"}}},{key:"renderCurrentSong",value:function(){return r.a.createElement("p",null,"Current song ",this.state.currentSong.title,". Song is ",this.getStatusText())}},{key:"render",value:function(){var t=this,e=this.state,a=e.volume,n=e.playbackRate,o=e.loop,s=r.a.createElement(g.t,{activeModal:this.state.activeModal},r.a.createElement(g.r,{id:"music",onClose:this.modalBack,header:r.a.createElement(g.s,{left:X&&r.a.createElement(g.k,{onClick:this.modalBack},r.a.createElement(f.a,null)),right:r.a.createElement(g.k,{onClick:this.modalBack},$?"\u0413\u043e\u0442\u043e\u0432\u043e":r.a.createElement(S.a,null))},"\u0424\u0438\u043b\u044c\u0442\u0440\u044b")},r.a.createElement(g.j,{title:"Player"},r.a.createElement(g.e,null,r.a.createElement(H,{songs:y,selectedSong:this.state.currentSong,onSongSelected:this.handleSongSelected}),r.a.createElement(g.e,null,r.a.createElement(g.n,{title:this.state.currentSong.title},r.a.createElement(g.w,{value:this.state.position/this.state.currentSong.duration*100}))),r.a.createElement(g.h,null,r.a.createElement(g.y,{min:0,max:100,value:Number(this.state.volume),onChange:function(e){return t.setState({volume:e})},top:"Volume"})),r.a.createElement(g.h,null,r.a.createElement(g.y,{min:0,max:5,value:Number(this.state.playbackRate),onChange:function(e){return t.setState({playbackRate:e})},top:"Playback Rate"})),r.a.createElement(A,{playStatus:this.state.playStatus,loop:o,onPlay:function(){return t.setState({playStatus:w.a.status.PLAYING})},onPause:function(){return t.setState({playStatus:w.a.status.PAUSED})},onResume:function(){return t.setState({playStatus:w.a.status.PLAYING})},onStop:function(){return t.setState({playStatus:w.a.status.STOPPED,position:0})},onSeek:function(e){return t.setState({position:e})},onToggleLoop:function(e){return t.setState({loop:e.target.checked})},duration:this.state.currentSong?this.state.currentSong.duration:0,position:this.state.position,playbackRate:n}))))),i=r.a.createElement(g.j,null,r.a.createElement(w.a,{url:this.state.currentSong.url,playStatus:this.state.playStatus,position:this.state.position,volume:a,playbackRate:n,loop:o,onPlaying:function(e){var a=e.position;return t.setState({position:a})},onFinishedPlaying:function(){return t.setState({playStatus:w.a.status.STOPPED})}}),r.a.createElement(g.f,{vertical:"bottom"},r.a.createElement(g.b,{size:"xl",level:"secondary",onClick:function(){return t.setActiveModal("music")}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443")));return r.a.createElement(g.z,{id:"main",activePanel:this.state.activePanel,modal:s},r.a.createElement(F,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go,player:i}),r.a.createElement(P,{id:"exhibit",go:this.go,player:i}))}}]),e}(r.a.Component);l.a.send("VKWebAppInit",{}),s.a.render(r.a.createElement(tt,null),document.getElementById("root"))},67:function(t,e,a){},73:function(t){t.exports=JSON.parse('[{"name":"form1","imag":"https://raw.githubusercontent.com/maximzubkov/sasha/master/src/img/persik.png","author":"HZ1","variants":["HZ1","HZ2","HZ3"]},{"name":"form2","imag":"https://raw.githubusercontent.com/maximzubkov/sasha/master/src/img/persik.png","author":"HZ2","variants":["HZ1","HZ2","HZ3"]},{"name":"form3","imag":"https://raw.githubusercontent.com/maximzubkov/sasha/master/src/img/persik.png","author":"HZ3","variants":["HZ1","HZ2","HZ3"]}]')}},[[149,1,2]]]);
//# sourceMappingURL=main.146d298b.chunk.js.map