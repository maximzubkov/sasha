(window.webpackJsonpsasha=window.webpackJsonpsasha||[]).push([[0],{144:function(t,e,a){t.exports=a(232)},231:function(t,e,a){},232:function(t,e,a){"use strict";a.r(e);a(145),a(171),a(173),a(174),a(176),a(177),a(178),a(179),a(180),a(181),a(182),a(183),a(185),a(186),a(187),a(188),a(189),a(190),a(191),a(192),a(193),a(194),a(196),a(197),a(198),a(199),a(200),a(201),a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(210),a(211),a(212),a(213);var n=a(0),o=a.n(n),r=a(37),s=a.n(r),l=a(44),i=a.n(l),u=a(96),c=a(32),m=a(33),p=a(35),h=a(34),d=a(36),g=(a(89),a(4)),b=a(50),S=a.n(b),f=a(95),y=a.n(f),E=[{url:"https://raw.githubusercontent.com/maximzubkov/on_hack/master/src/audio/miyagi.mp3",title:"miyagi",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/1hz-10khz-sweep.mp3",title:"1hz-10khz sweep",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/440hz.mp3",title:"440hz",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/880hz.mp3",title:"880hz",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/background0.mp3",title:"background 0",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/background1.mp3",title:"background 1",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/background2.mp3",title:"background 2",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/bass.mp3",title:"bass",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/button-0.mp3",title:"button 0",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/button-1.mp3",title:"button 1",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/click-high.mp3",title:"click high",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/click-low.mp3",title:"click low",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/coins.mp3",title:"coins",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/fancy-beer-bottle-pop.mp3",title:"fancy beer bottle pop",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/going_outside.mp3",title:"going outside",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/mak.mp3",title:"mak",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/mouseover.mp3",title:"mouseover",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/mouseover2.mp3",title:"mouseover 2",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/mouseover3.mp3",title:"mouseover 3",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/office_lobby.mp3",title:"office lobby",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/rain.mp3",title:"rain",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/select.mp3",title:"select",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/sine, square, sawtooth, rando.mp3",title:"sine, square, sawtooth, rando",duration:0},{url:"https://raw.githubusercontent.com/scottschiller/SoundManager2/master/demo/_mp3/walking.mp3",title:"walking",duration:0}],v=a(17),k=a.n(v),w=a(64),O=a.n(w),P=a(65),M=a.n(P);function _(t,e){return o.a.createElement(g.h,null,o.a.createElement(g.m,null,o.a.createElement(g.l,{href:"#",onClick:function(t){t.preventDefault(),e()}},t)))}var j=function(t){function e(){return Object(c.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return o.a.createElement(g.e,null,this.renderControls())}},{key:"renderControls",value:function(){var t={play:this.props.playStatus===k.a.status.STOPPED,stop:this.props.playStatus!==k.a.status.STOPPED,pause:this.props.playStatus===k.a.status.PLAYING,resume:this.props.playStatus===k.a.status.PAUSED};return o.a.createElement(g.e,null,o.a.createElement(g.m,null,t.play&&o.a.createElement(g.c,{before:o.a.createElement(M.a,{width:20,hight:20})},_("Play",this.props.onPlay)),t.stop&&o.a.createElement(g.c,{before:o.a.createElement(O.a,{width:20,hight:20})},_("Stop",this.props.onStop)),t.pause&&o.a.createElement(g.c,{before:o.a.createElement(O.a,{width:20,hight:20})},_("Pause",this.props.onPause)),t.resume&&o.a.createElement(g.c,{before:o.a.createElement(M.a,{width:20,hight:20})},_("Resume",this.props.onResume))),o.a.createElement(g.g,null,o.a.createElement(g.d,{checked:this.props.loop,onChange:this.props.onToggleLoop}," Loop?")))}}]),e}(o.a.Component),C=function(t){function e(){return Object(c.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return o.a.createElement(g.u,{placeholder:"Select a song",value:this.props.songs.indexOf(this.props.selectedSong),onChange:this.handleSongChange.bind(this)},this.renderSongOptions())}},{key:"renderSongOptions",value:function(){return this.props.songs.map((function(t,e){return o.a.createElement("option",{key:e,value:e},t.title)}))}},{key:"handleSongChange",value:function(t){this.props.onSongSelected(this.props.songs[t.target.value])}}]),e}(o.a.Component),D=(a(231),a(41)),A=a.n(D),R=a(66),x=a.n(R),U=(Object(g.x)(),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(p.a)(this,Object(h.a)(e).call(this,t))).getQrData=function(){A.a.subscribe((function(t){switch(t.detail.type){case"VKWebAppOpenQRResult":a.setState({qrData:t.detail.data.qr_data});break;default:console.log(t.detail.type)}})),A.a.send("VKWebAppOpenQR")},a.state={qrData:111,qrType:111},a}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this.props.fetchedUser,e=this.props.player,a=this.props.id;this.props.go;return o.a.createElement(g.r,{id:a},o.a.createElement(g.s,{left:o.a.createElement(g.i,{onClick:this.getQrData},(g.j,o.a.createElement(x.a,null)))},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),t&&o.a.createElement(g.h,{title:"User Data Fetched with VK Connect"},o.a.createElement(g.n,{before:t.photo_200?o.a.createElement(g.a,{src:t.photo_200}):null,description:t.city&&t.city.title?t.city.title:""},"".concat(t.first_name," ").concat(t.last_name))),o.a.createElement(g.h,{title:"Navigation Example"},o.a.createElement(g.e,null,this.state.qrData)),e)}}]),e}(o.a.Component)),T=Object(g.x)(),z=T!==g.j,q=T!==g.j,I=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(p.a)(this,Object(h.a)(e).call(this,t))).handleSongSelected=function(t){a.setState({currentSong:t,position:0})},a.go=function(t){a.setState({activePanel:t.currentTarget.dataset.to})},a.state={activePanel:"home",fetchedUser:null,activeModal:null,modalHistory:[],currentSong:E[0],position:0,volume:100,playbackRate:1,loop:!1,playStatus:k.a.status.PAUSED},a.modalBack=function(t){a.setActiveModal(a.state.modalHistory[a.state.modalHistory.length-2])},a}return Object(d.a)(e,t),Object(m.a)(e,[{key:"setActiveModal",value:function(t){t=t||null;var e=this.state.modalHistory?Object(u.a)(this.state.modalHistory):[];null===t?e=[]:-1!==e.indexOf(t)?e=e.splice(0,e.indexOf(t)+1):e.push(t),this.setState({activeModal:t,modalHistory:e})}},{key:"componentDidMount",value:function(){var t=this;i.a.subscribe((function(e){switch(e.detail.type){case"VKWebAppGetUserInfoResult":t.setState({fetchedUser:e.detail.data});break;default:console.log(e.detail.type)}})),i.a.send("VKWebAppGetUserInfo",{})}},{key:"getStatusText",value:function(){switch(this.state.playStatus){case k.a.status.PLAYING:return"playing";case k.a.status.PAUSED:return"paused";case k.a.status.STOPPED:return"stopped";default:return"(unknown)"}}},{key:"renderCurrentSong",value:function(){return o.a.createElement("p",null,"Current song ",this.state.currentSong.title,". Song is ",this.getStatusText())}},{key:"render",value:function(){var t=this,e=this.state,a=e.volume,n=e.playbackRate,r=e.loop,s=o.a.createElement(g.q,{activeModal:this.state.activeModal},o.a.createElement(g.o,{id:"music",onClose:this.modalBack,header:o.a.createElement(g.p,{left:z&&o.a.createElement(g.i,{onClick:this.modalBack},o.a.createElement(S.a,null)),right:o.a.createElement(g.i,{onClick:this.modalBack},q?"\u0413\u043e\u0442\u043e\u0432\u043e":o.a.createElement(y.a,null))},"\u0424\u0438\u043b\u044c\u0442\u0440\u044b")},o.a.createElement(g.h,{title:"Player"},o.a.createElement(g.e,null,o.a.createElement(C,{songs:E,selectedSong:this.state.currentSong,onSongSelected:this.handleSongSelected}),o.a.createElement(g.e,null,o.a.createElement(g.k,{title:this.state.currentSong.title},o.a.createElement(g.t,{value:this.state.position/this.state.currentSong.duration*100}))),o.a.createElement(g.g,null,o.a.createElement(g.v,{min:0,max:100,value:Number(this.state.volume),onChange:function(e){return t.setState({volume:e})},top:"Volume"})),o.a.createElement(g.g,null,o.a.createElement(g.v,{min:0,max:5,value:Number(this.state.playbackRate),onChange:function(e){return t.setState({playbackRate:e})},top:"Playback Rate"})),o.a.createElement(j,{playStatus:this.state.playStatus,loop:r,onPlay:function(){return t.setState({playStatus:k.a.status.PLAYING})},onPause:function(){return t.setState({playStatus:k.a.status.PAUSED})},onResume:function(){return t.setState({playStatus:k.a.status.PLAYING})},onStop:function(){return t.setState({playStatus:k.a.status.STOPPED,position:0})},onSeek:function(e){return t.setState({position:e})},onToggleLoop:function(e){return t.setState({loop:e.target.checked})},duration:this.state.currentSong?this.state.currentSong.duration:0,position:this.state.position,playbackRate:n}))))),l=o.a.createElement(g.h,null,o.a.createElement(k.a,{url:this.state.currentSong.url,playStatus:this.state.playStatus,position:this.state.position,volume:a,playbackRate:n,loop:r,onPlaying:function(e){var a=e.position;return t.setState({position:a})},onFinishedPlaying:function(){return t.setState({playStatus:k.a.status.STOPPED})}}),o.a.createElement(g.f,{vertical:"bottom"},o.a.createElement(g.b,{size:"xl",level:"secondary",onClick:function(){return t.setActiveModal("music")}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443")));return o.a.createElement(g.w,{id:"main",activePanel:this.state.activePanel,modal:s},o.a.createElement(U,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go,player:l}))}}]),e}(o.a.Component);i.a.send("VKWebAppInit",{}),s.a.render(o.a.createElement(I,null),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.965058aa.chunk.js.map